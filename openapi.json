{"openapi":"3.1.0","info":{"title":"K4Cut Backend","description":"\n# K4Cut Backend API\n\nK4Cut Backend Service\n\n## 기능\n\n- **인증**: JWT 기반 사용자 인증 (Access Token + Refresh Token)\n- **이미지 관리**: Cloudflare R2 기반 이미지 업로드/다운로드\n- **AI 이미지 생성**: Google Gemini AI를 활용한 이미지 생성\n\n## 인증 방법\n\n대부분의 API는 Bearer 토큰 인증이 필요합니다.\n\n```\nAuthorization: Bearer <access_token>\n```\n\n토큰은 `/api/v1/auth/login` 엔드포인트에서 발급받을 수 있습니다.\n","contact":{"name":"K4Cut Support","email":"support@k4cut.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"0.1.0"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Health check endpoint for monitoring and load balancers","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"tags":["Root"],"summary":"Root","description":"Root endpoint with API information","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/register":{"post":{"tags":["Authentication"],"summary":"Register","description":"Register a new user\n\nArgs:\n    user_data: User registration data\n\nReturns:\n    Created user object\n\nRaises:\n    HTTPException: If user already exists","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Login user and return access and refresh tokens\n\nArgs:\n    login_data: Login credentials\n\nReturns:\n    Access and refresh tokens\n\nRaises:\n    HTTPException: If credentials are invalid","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"Refresh access token using refresh token\n\nArgs:\n    token_data: Refresh token\n\nReturns:\n    New access and refresh tokens\n\nRaises:\n    HTTPException: If refresh token is invalid","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User Info","description":"Get current user information\n\nArgs:\n    current_user: Current authenticated user\n\nReturns:\n    Current user object","operationId":"get_current_user_info_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/change-password":{"post":{"tags":["Authentication"],"summary":"Change Password","description":"Change current user's password\n\nArgs:\n    password_data: Current and new password\n    current_user: Current authenticated user\n\nReturns:\n    Success message\n\nRaises:\n    HTTPException: If current password is incorrect or new password is same as current","operationId":"change_password_api_v1_auth_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChange"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Change Password Api V1 Auth Change Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/":{"get":{"tags":["Users"],"summary":"List Users","description":"List all users (superuser only)\n\nArgs:\n    skip: Number of users to skip\n    limit: Maximum number of users to return\n    current_user: Current superuser\n\nReturns:\n    List of users","operationId":"list_users_api_v1_users__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response List Users Api V1 Users  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"get":{"tags":["Users"],"summary":"Get User","description":"Get user by ID\n\nArgs:\n    user_id: User ID\n    current_user: Current authenticated user\n\nReturns:\n    User object\n\nRaises:\n    HTTPException: If user not found or no permission","operationId":"get_user_api_v1_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Users"],"summary":"Update User","description":"Update user\n\nArgs:\n    user_id: User ID\n    user_update: User update data\n    current_user: Current authenticated user\n\nReturns:\n    Updated user object\n\nRaises:\n    HTTPException: If user not found or no permission","operationId":"update_user_api_v1_users__user_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","description":"Delete user (superuser only)\n\nArgs:\n    user_id: User ID\n    current_user: Current superuser\n\nRaises:\n    HTTPException: If user not found","operationId":"delete_user_api_v1_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"delete":{"tags":["Users"],"summary":"Withdraw User","description":"Withdraw current user account (self-deletion)\n\nDeletes all user's images and deactivates the account.\n\nReturns:\n    Withdrawal result with deleted images count","operationId":"withdraw_user_api_v1_users_me_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserWithdrawResult"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/images/upload":{"post":{"tags":["Images"],"summary":"Upload Image","description":"Upload an image to Cloudflare R2\n\n- **file**: Image file (JPEG, PNG, GIF, WebP)\n- **folder**: Folder to organize images (default: \"uploads\")\n- **tags**: Comma-separated tags for organization\n- **description**: Optional description\n- **is_public**: Whether the image should be publicly accessible\n\nReturns uploaded image metadata including URL","operationId":"upload_image_api_v1_images_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_image_api_v1_images_upload_post"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUploadResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/images/":{"get":{"tags":["Images"],"summary":"List My Images","description":"List current user's images\n\n- **folder**: Filter by folder (optional)\n- **skip**: Number of images to skip (pagination)\n- **limit**: Maximum number of images to return (max 100)\n\nReturns list of user's images","operationId":"list_my_images_api_v1_images__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"folder","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Folder"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ImageListResponse"},"title":"Response List My Images Api V1 Images  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/images/{image_id}":{"get":{"tags":["Images"],"summary":"Get Image","description":"Get image by ID\n\nReturns image metadata","operationId":"get_image_api_v1_images__image_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Images"],"summary":"Update Image","description":"Update image metadata\n\nCan update:\n- Tags\n- Description\n- Public visibility","operationId":"update_image_api_v1_images__image_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Images"],"summary":"Delete Image","description":"Delete an image\n\nRemoves image from storage and marks as deleted in database","operationId":"delete_image_api_v1_images__image_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/images/{image_id}/base64":{"get":{"tags":["Images"],"summary":"Download Image Base64","description":"Download image as base64 encoded data\n\n- **image_id**: ID of the image to download\n\nReturns image data as base64 encoded string with data URI prefix","operationId":"download_image_base64_api_v1_images__image_id__base64_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageBase64Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/images/all":{"delete":{"tags":["Images"],"summary":"Delete All Images","description":"Delete all images for the current user\n\nRemoves all images from storage and marks them as deleted in database.\nReturns the count of deleted and failed images.","operationId":"delete_all_images_api_v1_images_all_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageDeleteAllResult"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/images/public/{image_id}":{"get":{"tags":["Images"],"summary":"Get Public Image","description":"Get public image (no authentication required)\n\nReturns image metadata if image is marked as public","operationId":"get_public_image_api_v1_images_public__image_id__get","parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gemini/generate":{"post":{"tags":["Gemini AI"],"summary":"Generate image with Gemini AI","description":"Generate images using Gemini AI.\n\n## Usage\n\n### 1. Text-to-Image Generation\n- Enter a description of the image you want to generate in `prompt`\n\n### 2. Image-to-Image Editing\n- Upload the source image in `image`\n- Enter editing instructions in `prompt` (e.g., \"Put a hat on this cat\")\n\n## Storage Location (Cloudflare R2)\n- Uploaded images: `uploads/YYYYMMDD/uuid.ext`\n- Generated images: `generated/YYYYMMDD/uuid.ext`\n\n## Response\n- Base64 encoded generated image\n- Image metadata stored in R2 (including URL)","operationId":"generate_image_api_v1_gemini_generate_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_image_api_v1_gemini_generate_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageGenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/gemini/generate/raw":{"post":{"tags":["Gemini AI"],"summary":"Generate image and return raw bytes","description":"Generate images using Gemini AI and return raw image bytes.\n\nUseful for displaying images directly in browser or downloading.\n\n## Storage Location (Cloudflare R2)\n- Uploaded images: `uploads/YYYYMMDD/uuid.ext`\n- Generated images: `generated/YYYYMMDD/uuid.ext`","operationId":"generate_image_raw_api_v1_gemini_generate_raw_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_image_raw_api_v1_gemini_generate_raw_post"}}},"required":true},"responses":{"200":{"description":"Generated image (raw bytes)","content":{"application/json":{"schema":{}},"image/png":{},"image/jpeg":{},"image/webp":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/gemini/generate/frame":{"post":{"tags":["Gemini AI"],"summary":"Generate frame composite from two portrait images","description":"Generate a film strip frame with 4 AI-generated images from two portrait photos.\n\n## Pipeline\n1. Accepts 2 portrait images (required)\n2. Removes background from both images using rembg\n3. Creates a composite of both portraits (312x236)\n4. Generates initial AI image using composite prompt from database\n5. Creates 4 pose variations using specified or randomly selected pose prompts\n6. Composites all 4 images onto the frame template\n\n## Requirements\n- Both portrait1 and portrait2 are required\n- An active composite prompt must exist in database\n- Either specify 4 pose_prompt_ids OR have at least 4 active pose prompts for random selection\n\n## Storage Location (Cloudflare R2)\n- Input portraits: `uploads/YYYYMMDD/uuid.ext`\n- Composite output: `generated/YYYYMMDD/uuid.jpg`\n\n## Response\n- Base64 encoded composite image (JPEG)\n- Image metadata stored in R2 (including URL)\n- Prompts used for generation","operationId":"generate_frame_composite_api_v1_gemini_generate_frame_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_frame_composite_api_v1_gemini_generate_frame_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FrameCompositeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/gemini/generate/frame/raw":{"post":{"tags":["Gemini AI"],"summary":"Generate frame composite and return raw bytes","description":"Generate a film strip frame with 4 AI-generated images from two portrait photos and return raw image bytes.\n\nUseful for displaying images directly in browser or downloading.\n\n## Pipeline\n1. Accepts 2 portrait images (required)\n2. Removes background from both images\n3. Creates a composite of both portraits\n4. Generates AI images using specified or random prompts from database\n5. Composites all 4 images onto the frame template\n\n## Storage Location (Cloudflare R2)\n- Input portraits: `uploads/YYYYMMDD/uuid.ext`\n- Composite output: `generated/YYYYMMDD/uuid.jpg`","operationId":"generate_frame_composite_raw_api_v1_gemini_generate_frame_raw_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_frame_composite_raw_api_v1_gemini_generate_frame_raw_post"}}},"required":true},"responses":{"200":{"description":"Composite image (raw JPEG bytes)","content":{"application/json":{"schema":{}},"image/jpeg":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api-keys/":{"get":{"tags":["API Keys (Admin)"],"summary":"List Api Keys","description":"List all API keys (Admin only)\n\nReturns list of API keys with masked values","operationId":"list_api_keys_api_v1_api_keys__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiKeyResponse"},"type":"array","title":"Response List Api Keys Api V1 Api Keys  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["API Keys (Admin)"],"summary":"Create Or Update Api Key","description":"Create or update API key (Admin only)\n\n- **service**: Service name (e.g., 'google')\n- **api_key**: Plain text API key (will be encrypted)\n- **name**: Key name (default: 'default')\n\nIf key exists, it will be updated. Otherwise, a new key is created.","operationId":"create_or_update_api_key_api_v1_api_keys__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyUpdateResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api-keys/{service}":{"get":{"tags":["API Keys (Admin)"],"summary":"Get Api Key","description":"Get API key for a service (Admin only)\n\n- **service**: Service name (e.g., 'google')\n- **name**: Key name (default: 'default')\n\nReturns API key with masked value","operationId":"get_api_key_api_v1_api_keys__service__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","title":"Service"}},{"name":"name","in":"query","required":false,"schema":{"type":"string","default":"default","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["API Keys (Admin)"],"summary":"Delete Api Key","description":"Deactivate API key (Admin only)\n\n- **service**: Service name\n- **name**: Key name (default: 'default')\n\nSoft deletes (deactivates) the API key","operationId":"delete_api_key_api_v1_api_keys__service__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","title":"Service"}},{"name":"name","in":"query","required":false,"schema":{"type":"string","default":"default","title":"Name"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/composite":{"get":{"tags":["Prompts (Admin)"],"summary":"Get active composite prompt","description":"Get the currently active composite prompt used for initial AI generation","operationId":"get_active_composite_prompt_api_v1_prompts_composite_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptResponse"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Prompts (Admin)"],"summary":"Create composite prompt","description":"Create a new composite prompt. If is_active is True, deactivates all others.","operationId":"create_composite_prompt_api_v1_prompts_composite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/prompts/composite/all":{"get":{"tags":["Prompts (Admin)"],"summary":"List all composite prompts","description":"Get all composite prompts including inactive ones","operationId":"list_all_composite_prompts_api_v1_prompts_composite_all_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CompositePromptResponse"},"type":"array","title":"Response List All Composite Prompts Api V1 Prompts Composite All Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/prompts/composite/{prompt_id}":{"put":{"tags":["Prompts (Admin)"],"summary":"Update composite prompt","description":"Update an existing composite prompt","operationId":"update_composite_prompt_api_v1_prompts_composite__prompt_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Prompts (Admin)"],"summary":"Delete composite prompt","description":"Hard delete a composite prompt","operationId":"delete_composite_prompt_api_v1_prompts_composite__prompt_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/poses":{"get":{"tags":["Prompts (Admin)"],"summary":"List pose prompts","description":"List all active pose prompts with pagination","operationId":"list_pose_prompts_api_v1_prompts_poses_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Page Size"},"description":"Items per page"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category","title":"Category"},"description":"Filter by category"},{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","description":"Include inactive prompts","default":false,"title":"Include Inactive"},"description":"Include inactive prompts"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Prompts (Admin)"],"summary":"Create pose prompt","description":"Create a new pose prompt","operationId":"create_pose_prompt_api_v1_prompts_poses_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/poses/bulk":{"post":{"tags":["Prompts (Admin)"],"summary":"Bulk create pose prompts","description":"Create multiple pose prompts at once (max 100)","operationId":"bulk_create_pose_prompts_api_v1_prompts_poses_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptBulkCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkCreateResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/prompts/poses/{prompt_id}":{"get":{"tags":["Prompts (Admin)"],"summary":"Get pose prompt","description":"Get a specific pose prompt by ID","operationId":"get_pose_prompt_api_v1_prompts_poses__prompt_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Prompts (Admin)"],"summary":"Update pose prompt","description":"Update an existing pose prompt","operationId":"update_pose_prompt_api_v1_prompts_poses__prompt_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Prompts (Admin)"],"summary":"Delete pose prompt","description":"Soft delete (deactivate) a pose prompt","operationId":"delete_pose_prompt_api_v1_prompts_poses__prompt_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/poses/categories/list":{"get":{"tags":["Prompts (Admin)"],"summary":"List pose prompt categories","description":"Get all unique categories used in pose prompts","operationId":"list_pose_categories_api_v1_prompts_poses_categories_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response List Pose Categories Api V1 Prompts Poses Categories List Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/payments/products":{"get":{"tags":["Payments"],"summary":"상품 목록 조회","description":"결제 가능한 상품 목록을 조회합니다.","operationId":"list_products_api_v1_payments_products_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/products/{product_id}":{"get":{"tags":["Payments"],"summary":"상품 상세 조회","description":"특정 상품의 상세 정보를 조회합니다.","operationId":"get_product_api_v1_payments_products__product_id__get","parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"string","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/checkout":{"post":{"tags":["Payments"],"summary":"체크아웃 링크 생성","description":"결제를 위한 체크아웃 링크를 생성합니다. 로그인한 사용자의 이메일이 자동으로 설정됩니다.","operationId":"create_checkout_api_v1_payments_checkout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/payments/checkout/session":{"post":{"tags":["Payments"],"summary":"체크아웃 세션 생성","description":"Custom Checkout을 위한 세션을 생성합니다.","operationId":"create_checkout_session_api_v1_payments_checkout_session_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutSessionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/payments/checkout/{checkout_id}":{"get":{"tags":["Payments"],"summary":"체크아웃 정보 조회","description":"체크아웃 세션의 상태를 조회합니다.","operationId":"get_checkout_api_v1_payments_checkout__checkout_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"checkout_id","in":"path","required":true,"schema":{"type":"string","title":"Checkout Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/subscriptions":{"get":{"tags":["Payments"],"summary":"내 구독 목록 조회","description":"현재 로그인한 사용자의 구독 목록을 조회합니다.","operationId":"get_my_subscriptions_api_v1_payments_subscriptions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionListResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/payments/subscriptions/{subscription_id}":{"get":{"tags":["Payments"],"summary":"구독 상세 조회","description":"특정 구독의 상세 정보를 조회합니다.","operationId":"get_subscription_api_v1_payments_subscriptions__subscription_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string","title":"Subscription Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/subscriptions/{subscription_id}/cancel":{"post":{"tags":["Payments"],"summary":"구독 취소","description":"구독을 취소합니다. 현재 결제 주기 종료 시 구독이 종료됩니다.","operationId":"cancel_subscription_api_v1_payments_subscriptions__subscription_id__cancel_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string","title":"Subscription Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelSubscriptionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/orders":{"get":{"tags":["Payments"],"summary":"내 주문 목록 조회","description":"현재 로그인한 사용자의 주문 내역을 조회합니다.","operationId":"get_my_orders_api_v1_payments_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/orders/{order_id}":{"get":{"tags":["Payments"],"summary":"주문 상세 조회","description":"특정 주문의 상세 정보를 조회합니다.","operationId":"get_order_api_v1_payments_orders__order_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","title":"Order Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/refunds/request":{"post":{"tags":["Payments"],"summary":"환불 요청","description":"주문에 대한 환불을 요청합니다. 관리자 승인 후 환불이 처리됩니다.","operationId":"create_refund_request_api_v1_payments_refunds_request_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundRequestCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/payments/refunds/requests":{"get":{"tags":["Payments"],"summary":"내 환불 요청 목록 조회","description":"현재 로그인한 사용자의 환불 요청 목록을 조회합니다.","operationId":"get_my_refund_requests_api_v1_payments_refunds_requests_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"상태 필터 (pending, approved, rejected, completed, failed)","title":"Status Filter"},"description":"상태 필터 (pending, approved, rejected, completed, failed)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundRequestListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/refunds/requests/{request_id}":{"get":{"tags":["Payments"],"summary":"환불 요청 상세 조회","description":"특정 환불 요청의 상세 정보를 조회합니다.","operationId":"get_refund_request_api_v1_payments_refunds_requests__request_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/refunds/requests/admin/all":{"get":{"tags":["Payments"],"summary":"전체 환불 요청 목록 조회 (관리자)","description":"모든 환불 요청 목록을 조회합니다. 관리자 전용.","operationId":"get_all_refund_requests_api_v1_payments_refunds_requests_admin_all_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"상태 필터","title":"Status Filter"},"description":"상태 필터"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundRequestListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/refunds/process":{"post":{"tags":["Payments"],"summary":"환불 요청 처리 (관리자)","description":"환불 요청을 승인하거나 거절합니다. 승인 시 Polar를 통해 실제 환불이 처리됩니다.","operationId":"process_refund_request_api_v1_payments_refunds_process_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundProcessRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/payments/refunds/polar":{"get":{"tags":["Payments"],"summary":"Polar 환불 목록 조회 (관리자)","description":"Polar에서 처리된 환불 목록을 조회합니다. 관리자 전용.","operationId":"get_polar_refunds_api_v1_payments_refunds_polar_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/webhooks/polar":{"post":{"tags":["Webhooks"],"summary":"Polar Webhook","description":"Polar.sh 웹훅 핸들러\n\n결제, 구독, 고객 관련 이벤트를 처리합니다.\n\n지원하는 이벤트:\n- checkout.created: 체크아웃 생성\n- checkout.updated: 체크아웃 업데이트 (결제 완료 포함)\n- order.created: 주문 생성\n- order.refunded: 주문 환불\n- subscription.created: 구독 생성\n- subscription.updated: 구독 업데이트\n- subscription.canceled: 구독 취소\n- customer.created: 고객 생성","operationId":"polar_webhook_api_v1_webhooks_polar_post","parameters":[{"name":"webhook-signature","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook-Signature"}},{"name":"x-polar-signature","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Polar-Signature"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ApiKeyCreate":{"properties":{"service":{"type":"string","maxLength":50,"minLength":1,"title":"Service","description":"Service name (e.g., 'google')"},"api_key":{"type":"string","minLength":1,"title":"Api Key","description":"API key value"},"name":{"type":"string","maxLength":50,"title":"Name","description":"Key name","default":"default"}},"type":"object","required":["service","api_key"],"title":"ApiKeyCreate","description":"Schema for creating/updating API key","example":{"api_key":"AIzaSyB...","name":"default","service":"google"}},"ApiKeyResponse":{"properties":{"id":{"type":"string","title":"Id"},"service":{"type":"string","title":"Service"},"name":{"type":"string","title":"Name"},"masked_key":{"type":"string","title":"Masked Key","description":"Masked API key for display"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","service","name","masked_key","is_active","created_at","updated_at"],"title":"ApiKeyResponse","description":"Schema for API key response (masked)","example":{"created_at":"2024-01-01T00:00:00","id":"507f1f77bcf86cd799439011","is_active":true,"masked_key":"AIza****xyz","name":"default","service":"google","updated_at":"2024-01-01T00:00:00"}},"ApiKeyUpdateResult":{"properties":{"message":{"type":"string","title":"Message"},"api_key":{"$ref":"#/components/schemas/ApiKeyResponse"}},"type":"object","required":["message","api_key"],"title":"ApiKeyUpdateResult","description":"Schema for API key update result","example":{"api_key":{"id":"507f1f77bcf86cd799439011","is_active":true,"masked_key":"AIza****xyz","name":"default","service":"google"},"message":"API key updated successfully"}},"Body_generate_frame_composite_api_v1_gemini_generate_frame_post":{"properties":{"portrait1":{"type":"string","format":"binary","title":"Portrait1","description":"First portrait image (required, JPG/PNG)"},"portrait2":{"type":"string","format":"binary","title":"Portrait2","description":"Second portrait image (required, JPG/PNG)"},"model":{"type":"string","title":"Model","description":"Model name: 'default' (fast/standard) or 'pro' (high quality)","default":"default"},"pose_prompt_ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pose Prompt Ids","description":"JSON array of 4 pose prompt IDs (e.g., '[\"id1\",\"id2\",\"id3\",\"id4\"]'). If not provided, random selection."}},"type":"object","required":["portrait1","portrait2"],"title":"Body_generate_frame_composite_api_v1_gemini_generate_frame_post"},"Body_generate_frame_composite_raw_api_v1_gemini_generate_frame_raw_post":{"properties":{"portrait1":{"type":"string","format":"binary","title":"Portrait1","description":"First portrait image (required, JPG/PNG)"},"portrait2":{"type":"string","format":"binary","title":"Portrait2","description":"Second portrait image (required, JPG/PNG)"},"model":{"type":"string","title":"Model","description":"Model name: 'default' (fast/standard) or 'pro' (high quality)","default":"default"},"pose_prompt_ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pose Prompt Ids","description":"JSON array of 4 pose prompt IDs (e.g., '[\"id1\",\"id2\",\"id3\",\"id4\"]'). If not provided, random selection."}},"type":"object","required":["portrait1","portrait2"],"title":"Body_generate_frame_composite_raw_api_v1_gemini_generate_frame_raw_post"},"Body_generate_image_api_v1_gemini_generate_post":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"Text prompt for image generation"},"model":{"type":"string","title":"Model","description":"Model name: 'default' (fast/standard) or 'pro' (high quality)","default":"default"},"image":{"type":"string","format":"binary","title":"Image","description":"Source image for image-to-image editing (optional, JPG/PNG/GIF/WebP)"}},"type":"object","required":["prompt"],"title":"Body_generate_image_api_v1_gemini_generate_post"},"Body_generate_image_raw_api_v1_gemini_generate_raw_post":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"Text prompt for image generation"},"model":{"type":"string","title":"Model","description":"Model name: 'default' (fast/standard) or 'pro' (high quality)","default":"default"},"image":{"type":"string","format":"binary","title":"Image","description":"Source image for image-to-image editing (optional, JPG/PNG/GIF/WebP)"}},"type":"object","required":["prompt"],"title":"Body_generate_image_raw_api_v1_gemini_generate_raw_post"},"Body_upload_image_api_v1_images_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to upload"},"folder":{"type":"string","title":"Folder","description":"Folder to organize images","default":"uploads"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags","description":"Comma-separated tags"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Image description"},"is_public":{"type":"boolean","title":"Is Public","description":"Make image publicly accessible","default":false}},"type":"object","required":["file"],"title":"Body_upload_image_api_v1_images_upload_post"},"BulkCreateResult":{"properties":{"message":{"type":"string","title":"Message"},"created_count":{"type":"integer","title":"Created Count"},"prompts":{"items":{"$ref":"#/components/schemas/PosePromptResponse"},"type":"array","title":"Prompts"}},"type":"object","required":["message","created_count","prompts"],"title":"BulkCreateResult","description":"Schema for bulk create result"},"CancelSubscriptionResponse":{"properties":{"status":{"type":"string","title":"Status","description":"처리 상태"},"subscription_id":{"type":"string","title":"Subscription Id","description":"취소된 구독 ID"},"message":{"type":"string","title":"Message","description":"메시지"}},"type":"object","required":["status","subscription_id","message"],"title":"CancelSubscriptionResponse","description":"구독 취소 응답"},"CheckoutRequest":{"properties":{"product_id":{"type":"string","title":"Product Id","description":"상품 ID"},"success_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Success Url","description":"결제 성공 후 리다이렉트 URL"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"추가 메타데이터"}},"type":"object","required":["product_id"],"title":"CheckoutRequest","description":"체크아웃 링크 생성 요청","example":{"metadata":{"plan":"premium"},"product_id":"prod_xxxxx","success_url":"https://example.com/payment/success"}},"CheckoutResponse":{"properties":{"checkout_url":{"type":"string","title":"Checkout Url","description":"체크아웃 페이지 URL"},"checkout_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Checkout Id","description":"체크아웃 ID"}},"type":"object","required":["checkout_url"],"title":"CheckoutResponse","description":"체크아웃 응답","example":{"checkout_id":"ch_xxxxx","checkout_url":"https://polar.sh/checkout/xxxxx"}},"CheckoutSessionRequest":{"properties":{"product_id":{"type":"string","title":"Product Id","description":"상품 ID"},"success_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Success Url","description":"결제 성공 후 리다이렉트 URL"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"추가 메타데이터"}},"type":"object","required":["product_id"],"title":"CheckoutSessionRequest","description":"체크아웃 세션 생성 요청 (Custom Checkout용)"},"CompositePromptCreate":{"properties":{"prompt_text":{"type":"string","maxLength":5000,"minLength":10,"title":"Prompt Text","description":"The prompt text for AI generation"},"system_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"System Prompt","description":"System instruction for AI model"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Admin description"},"is_active":{"type":"boolean","title":"Is Active","description":"Set as active prompt (deactivates others)","default":true}},"type":"object","required":["prompt_text"],"title":"CompositePromptCreate","description":"Schema for creating composite prompt","example":{"description":"Ghibli style transformation","is_active":true,"prompt_text":"Transform this image of two people into a Studio Ghibli anime style...","system_prompt":"You are an expert anime artist specializing in Studio Ghibli style..."}},"CompositePromptResponse":{"properties":{"id":{"type":"string","title":"Id"},"prompt_text":{"type":"string","title":"Prompt Text"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","prompt_text","system_prompt","description","is_active","created_at","updated_at"],"title":"CompositePromptResponse","description":"Schema for composite prompt response"},"CompositePromptUpdate":{"properties":{"prompt_text":{"anyOf":[{"type":"string","maxLength":5000,"minLength":10},{"type":"null"}],"title":"Prompt Text"},"system_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"System Prompt"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"CompositePromptUpdate","description":"Schema for updating composite prompt"},"FrameCompositeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"image_base64":{"type":"string","title":"Image Base64","description":"Base64 encoded composite image with 4 generated images on frame"},"mime_type":{"type":"string","title":"Mime Type","description":"MIME type of the composite image (image/jpeg)"},"input_images":{"items":{"anyOf":[{"$ref":"#/components/schemas/ImageResponse"},{"type":"null"}]},"type":"array","title":"Input Images","description":"Input portrait images saved to R2 (2 portraits)","default":[]},"output_image":{"anyOf":[{"$ref":"#/components/schemas/ImageResponse"},{"type":"null"}],"description":"Composite image saved to R2"},"composite_prompt_used":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Composite Prompt Used","description":"The composite prompt that was used for initial AI generation"},"pose_prompts_used":{"items":{"type":"string"},"type":"array","title":"Pose Prompts Used","description":"The 4 pose prompts that were used for variations","default":[]}},"type":"object","required":["success","image_base64","mime_type"],"title":"FrameCompositeResponse","description":"Schema for frame composite generation response","example":{"composite_prompt_used":"Transform this image of two people into anime style...","image_base64":"/9j/4AAQSkZJRgABAQAAAQABAAD...","input_images":[{"content_type":"image/png","filename":"portrait1.png","id":"507f1f77bcf86cd799439011","size":512000,"url":"https://cdn.example.com/uploads/20240101/uuid1.png"},{"content_type":"image/png","filename":"portrait2.png","id":"507f1f77bcf86cd799439012","size":512000,"url":"https://cdn.example.com/uploads/20240101/uuid2.png"}],"mime_type":"image/jpeg","output_image":{"content_type":"image/jpeg","filename":"frame_composite.jpg","id":"507f1f77bcf86cd799439013","size":2048000,"url":"https://cdn.example.com/generated/20240101/uuid.jpg"},"pose_prompts_used":["Same characters dancing together","Same characters at a beach","Same characters in winter clothes","Same characters having a picnic"],"success":true}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImageBase64Response":{"properties":{"id":{"type":"string","title":"Id"},"filename":{"type":"string","title":"Filename"},"content_type":{"type":"string","title":"Content Type"},"size":{"type":"integer","title":"Size"},"base64_data":{"type":"string","title":"Base64 Data"}},"type":"object","required":["id","filename","content_type","size","base64_data"],"title":"ImageBase64Response","description":"Schema for base64 image download response","example":{"base64_data":"data:image/jpeg;base64,/9j/4AAQSkZJRg...","content_type":"image/jpeg","filename":"photo.jpg","id":"507f1f77bcf86cd799439011","size":1024000}},"ImageDeleteAllResult":{"properties":{"message":{"type":"string","title":"Message"},"deleted_count":{"type":"integer","title":"Deleted Count"},"failed_count":{"type":"integer","title":"Failed Count"}},"type":"object","required":["message","deleted_count","failed_count"],"title":"ImageDeleteAllResult","description":"Schema for delete all images result","example":{"deleted_count":15,"failed_count":0,"message":"All images deleted successfully"}},"ImageGenerateResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"image_base64":{"type":"string","title":"Image Base64","description":"Base64 encoded generated image"},"mime_type":{"type":"string","title":"Mime Type","description":"MIME type of the generated image"},"input_image":{"anyOf":[{"$ref":"#/components/schemas/ImageResponse"},{"type":"null"}],"description":"Input image saved to R2"},"output_image":{"anyOf":[{"$ref":"#/components/schemas/ImageResponse"},{"type":"null"}],"description":"Generated image saved to R2"}},"type":"object","required":["success","image_base64","mime_type"],"title":"ImageGenerateResponse","description":"Schema for image generation response","example":{"image_base64":"iVBORw0KGgoAAAANSUhEUgAA...","mime_type":"image/png","output_image":{"content_type":"image/png","filename":"generated.png","id":"507f1f77bcf86cd799439011","size":1024000,"url":"https://cdn.example.com/gemini/output/20240101/uuid.png"},"success":true}},"ImageListResponse":{"properties":{"id":{"type":"string","title":"Id"},"filename":{"type":"string","title":"Filename"},"url":{"type":"string","title":"Url"},"size":{"type":"integer","title":"Size"},"content_type":{"type":"string","title":"Content Type"},"folder":{"type":"string","title":"Folder"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"is_public":{"type":"boolean","title":"Is Public"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","filename","url","size","content_type","folder","tags","is_public","created_at"],"title":"ImageListResponse","description":"Schema for image list item"},"ImageResponse":{"properties":{"id":{"type":"string","title":"Id"},"filename":{"type":"string","title":"Filename"},"url":{"type":"string","title":"Url"},"size":{"type":"integer","title":"Size"},"width":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Width"},"height":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Height"},"format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"},"content_type":{"type":"string","title":"Content Type"},"user_id":{"type":"string","title":"User Id"},"folder":{"type":"string","title":"Folder"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_public":{"type":"boolean","title":"Is Public"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","filename","url","size","content_type","user_id","folder","tags","is_public","created_at","updated_at"],"title":"ImageResponse","description":"Schema for image response","example":{"_id":"507f1f77bcf86cd799439011","content_type":"image/jpeg","created_at":"2024-01-01T00:00:00","description":"Beach vacation photo","filename":"vacation.jpg","folder":"uploads","format":"JPEG","height":1080,"is_public":false,"size":1024000,"tags":["vacation","2024"],"updated_at":"2024-01-01T00:00:00","url":"https://cdn.example.com/images/20240101/uuid.jpg","user_id":"507f1f77bcf86cd799439011","width":1920}},"ImageUpdate":{"properties":{"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_public":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Public"}},"type":"object","title":"ImageUpdate","description":"Schema for updating image metadata","example":{"description":"Summer vacation photo","is_public":true,"tags":["vacation","2024","beach"]}},"ImageUploadResult":{"properties":{"message":{"type":"string","title":"Message"},"image":{"$ref":"#/components/schemas/ImageResponse"}},"type":"object","required":["message","image"],"title":"ImageUploadResult","description":"Schema for upload result","example":{"image":{"_id":"507f1f77bcf86cd799439011","content_type":"image/jpeg","created_at":"2024-01-01T00:00:00","filename":"photo.jpg","folder":"uploads","is_public":false,"size":1024000,"tags":[],"updated_at":"2024-01-01T00:00:00","url":"https://cdn.example.com/images/20240101/uuid.jpg","user_id":"507f1f77bcf86cd799439011"},"message":"Image uploaded successfully"}},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest","description":"Login request schema","example":{"email":"user@example.com","password":"securepassword123"}},"OrderListResponse":{"properties":{"orders":{"items":{"$ref":"#/components/schemas/OrderResponse"},"type":"array","title":"Orders","description":"주문 목록"}},"type":"object","required":["orders"],"title":"OrderListResponse","description":"주문 목록 응답"},"OrderResponse":{"properties":{"id":{"type":"string","title":"Id","description":"주문 ID"},"product_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Id","description":"상품 ID"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount","description":"결제 금액 (센트)"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency","description":"통화"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"주문 상태"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"생성 일시"}},"type":"object","required":["id"],"title":"OrderResponse","description":"주문 정보 응답"},"PasswordChange":{"properties":{"current_password":{"type":"string","minLength":8,"title":"Current Password"},"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChange","description":"Password change request schema","example":{"current_password":"oldpassword123","new_password":"newpassword123"}},"PosePromptBulkCreate":{"properties":{"prompts":{"items":{"$ref":"#/components/schemas/PosePromptCreate"},"type":"array","maxItems":100,"minItems":1,"title":"Prompts"}},"type":"object","required":["prompts"],"title":"PosePromptBulkCreate","description":"Schema for bulk creating pose prompts"},"PosePromptCreate":{"properties":{"prompt_text":{"type":"string","maxLength":2000,"minLength":5,"title":"Prompt Text","description":"The pose variation prompt"},"system_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"System Prompt","description":"System instruction for AI model"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Category","description":"Optional category (dance, travel, etc.)"}},"type":"object","required":["prompt_text"],"title":"PosePromptCreate","description":"Schema for creating pose prompt","example":{"category":"dance","description":"Dancing pose","prompt_text":"Same characters but now they are dancing together at a party","system_prompt":"You are an expert pose artist..."}},"PosePromptListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PosePromptResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"pages":{"type":"integer","title":"Pages"}},"type":"object","required":["items","total","page","page_size","pages"],"title":"PosePromptListResponse","description":"Schema for paginated pose prompt list"},"PosePromptResponse":{"properties":{"id":{"type":"string","title":"Id"},"prompt_text":{"type":"string","title":"Prompt Text"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","prompt_text","system_prompt","description","category","is_active","created_at","updated_at"],"title":"PosePromptResponse","description":"Schema for pose prompt response"},"PosePromptUpdate":{"properties":{"prompt_text":{"anyOf":[{"type":"string","maxLength":2000,"minLength":5},{"type":"null"}],"title":"Prompt Text"},"system_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"System Prompt"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Category"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"PosePromptUpdate","description":"Schema for updating pose prompt"},"ProductListResponse":{"properties":{"products":{"items":{"$ref":"#/components/schemas/ProductResponse"},"type":"array","title":"Products","description":"상품 목록"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total","description":"전체 상품 수"}},"type":"object","required":["products"],"title":"ProductListResponse","description":"상품 목록 응답"},"ProductResponse":{"properties":{"id":{"type":"string","title":"Id","description":"상품 ID"},"name":{"type":"string","title":"Name","description":"상품 이름"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"상품 설명"},"is_recurring":{"type":"boolean","title":"Is Recurring","description":"구독 상품 여부"},"is_archived":{"type":"boolean","title":"Is Archived","description":"아카이브 여부","default":false},"prices":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Prices","description":"가격 정보"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"생성 일시"}},"type":"object","required":["id","name","is_recurring"],"title":"ProductResponse","description":"상품 정보 응답","example":{"description":"Full access to all features","id":"prod_xxxxx","is_archived":false,"is_recurring":true,"name":"Premium Plan","prices":[{"amount":9900,"currency":"usd","id":"price_xxx","interval":"month"}]}},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Refresh token request schema","example":{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"RefundListResponse":{"properties":{"refunds":{"items":{"$ref":"#/components/schemas/RefundResponse"},"type":"array","title":"Refunds","description":"환불 목록"}},"type":"object","required":["refunds"],"title":"RefundListResponse","description":"환불 목록 응답 (Polar)"},"RefundProcessRequest":{"properties":{"refund_request_id":{"type":"string","title":"Refund Request Id","description":"환불 요청 ID"},"action":{"type":"string","title":"Action","description":"처리 액션 (approve, reject)"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount","description":"환불 금액 (승인 시, 미입력시 전액)"},"admin_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Note","description":"관리자 메모"},"rejected_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejected Reason","description":"거절 사유 (거절 시 필수)"}},"type":"object","required":["refund_request_id","action"],"title":"RefundProcessRequest","description":"환불 처리 요청 (관리자)","example":{"action":"approve","admin_note":"고객 요청으로 환불 처리","refund_request_id":"507f1f77bcf86cd799439011"}},"RefundRequestCreate":{"properties":{"order_id":{"type":"string","title":"Order Id","description":"주문 ID"},"reason":{"type":"string","title":"Reason","description":"환불 사유 (customer_request, duplicate, service_not_provided, dissatisfied, other)","default":"customer_request"},"reason_detail":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Reason Detail","description":"상세 사유"}},"type":"object","required":["order_id"],"title":"RefundRequestCreate","description":"환불 요청 생성 (사용자)","example":{"order_id":"order_xxxxx","reason":"customer_request","reason_detail":"서비스를 더 이상 사용하지 않습니다."}},"RefundRequestListResponse":{"properties":{"refund_requests":{"items":{"$ref":"#/components/schemas/RefundRequestResponse"},"type":"array","title":"Refund Requests","description":"환불 요청 목록"},"total":{"type":"integer","title":"Total","description":"전체 개수"}},"type":"object","required":["refund_requests","total"],"title":"RefundRequestListResponse","description":"환불 요청 목록 응답"},"RefundRequestResponse":{"properties":{"id":{"type":"string","title":"Id","description":"환불 요청 ID"},"user_id":{"type":"string","title":"User Id","description":"사용자 ID"},"user_email":{"type":"string","title":"User Email","description":"사용자 이메일"},"order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order Id","description":"주문 ID"},"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name","description":"상품명"},"amount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Amount","description":"환불 금액"},"currency":{"type":"string","title":"Currency","description":"통화","default":"krw"},"reason":{"type":"string","title":"Reason","description":"환불 사유"},"reason_detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason Detail","description":"상세 사유"},"status":{"type":"string","title":"Status","description":"상태 (pending, approved, rejected, processing, completed, failed)"},"polar_refund_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Polar Refund Id","description":"Polar 환불 ID"},"admin_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Note","description":"관리자 메모"},"rejected_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejected Reason","description":"거절 사유"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"요청 일시"},"processed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processed At","description":"처리 일시"}},"type":"object","required":["id","user_id","user_email","reason","status","created_at"],"title":"RefundRequestResponse","description":"환불 요청 응답","example":{"amount":9900,"created_at":"2024-01-15T10:00:00Z","currency":"krw","id":"507f1f77bcf86cd799439011","order_id":"order_xxxxx","product_name":"Premium Plan","reason":"customer_request","reason_detail":"서비스를 더 이상 사용하지 않습니다.","status":"pending","user_email":"user@example.com","user_id":"507f1f77bcf86cd799439012"}},"RefundResponse":{"properties":{"id":{"type":"string","title":"Id","description":"환불 ID"},"order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Order Id","description":"주문 ID"},"amount":{"type":"integer","title":"Amount","description":"환불 금액"},"currency":{"type":"string","title":"Currency","description":"통화"},"reason":{"type":"string","title":"Reason","description":"환불 사유"},"status":{"type":"string","title":"Status","description":"상태"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"생성 일시"}},"type":"object","required":["id","amount","currency","reason","status"],"title":"RefundResponse","description":"환불 응답 (Polar)"},"SubscriptionListResponse":{"properties":{"subscriptions":{"items":{"$ref":"#/components/schemas/SubscriptionResponse"},"type":"array","title":"Subscriptions","description":"구독 목록"}},"type":"object","required":["subscriptions"],"title":"SubscriptionListResponse","description":"구독 목록 응답"},"SubscriptionResponse":{"properties":{"id":{"type":"string","title":"Id","description":"구독 ID"},"status":{"type":"string","title":"Status","description":"구독 상태"},"product_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Id","description":"상품 ID"},"product_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product Name","description":"상품 이름"},"current_period_start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Current Period Start","description":"현재 결제 주기 시작"},"current_period_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Current Period End","description":"현재 결제 주기 종료"},"cancel_at_period_end":{"type":"boolean","title":"Cancel At Period End","description":"주기 종료 시 취소 예정","default":false},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"생성 일시"}},"type":"object","required":["id","status"],"title":"SubscriptionResponse","description":"구독 정보 응답","example":{"cancel_at_period_end":false,"current_period_end":"2024-02-01T00:00:00Z","id":"sub_xxxxx","product_id":"prod_xxxxx","product_name":"Premium Plan","status":"active"}},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"Token","description":"Token response schema","example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["email","password"],"title":"UserCreate","description":"Schema for creating a new user","example":{"email":"user@example.com","full_name":"John Doe","password":"securepassword123","username":"johndoe"}},"UserResponse":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"id":{"type":"string","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["email","id","created_at","updated_at"],"title":"UserResponse","description":"Schema for user response","example":{"_id":"507f1f77bcf86cd799439011","created_at":"2024-01-01T00:00:00","email":"user@example.com","full_name":"John Doe","is_active":true,"is_superuser":false,"updated_at":"2024-01-01T00:00:00","username":"johndoe"}},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"password":{"anyOf":[{"type":"string","minLength":8},{"type":"null"}],"title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UserUpdate","description":"Schema for updating an existing user","example":{"full_name":"John Updated Doe","is_active":true}},"UserWithdrawResult":{"properties":{"message":{"type":"string","title":"Message"},"deleted_images_count":{"type":"integer","title":"Deleted Images Count"}},"type":"object","required":["message","deleted_images_count"],"title":"UserWithdrawResult","description":"Schema for user withdrawal result","example":{"deleted_images_count":10,"message":"Account deleted successfully"}},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"Health","description":"서버 상태 확인을 위한 헬스체크 엔드포인트"},{"name":"Root","description":"API 기본 정보"},{"name":"Authentication","description":"사용자 인증 관련 API. 회원가입, 로그인, 토큰 갱신, 비밀번호 변경 등"},{"name":"Users","description":"사용자 관리 API. 프로필 조회 및 수정"},{"name":"Images","description":"이미지 업로드, 조회, 삭제, Base64 다운로드 등 이미지 관리 API"},{"name":"Gemini AI","description":"Google Gemini AI를 활용한 이미지 생성 및 처리 API"},{"name":"API Keys (Admin)","description":"관리자용 API 키 관리"},{"name":"Prompts (Admin)","description":"관리자용 프롬프트 관리"},{"name":"Payments","description":"Polar.sh 기반 결제 및 구독 관리 API"},{"name":"Webhooks","description":"외부 서비스 웹훅 엔드포인트"}]}