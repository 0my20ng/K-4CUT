{"openapi":"3.1.0","info":{"title":"K4Cut Backend","description":"\n# K4Cut Backend API\n\nK4Cut Backend Service\n\n## 기능\n\n- **인증**: JWT 기반 사용자 인증 (Access Token + Refresh Token)\n- **이미지 관리**: Cloudflare R2 기반 이미지 업로드/다운로드\n- **AI 이미지 생성**: Google Gemini AI를 활용한 이미지 생성\n\n## 인증 방법\n\n대부분의 API는 Bearer 토큰 인증이 필요합니다.\n\n```\nAuthorization: Bearer <access_token>\n```\n\n토큰은 `/api/v1/auth/login` 엔드포인트에서 발급받을 수 있습니다.\n","contact":{"name":"K4Cut Support","email":"support@k4cut.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"0.1.0"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Health check endpoint for monitoring and load balancers","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"tags":["Root"],"summary":"Root","description":"Root endpoint with API information","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/register":{"post":{"tags":["Authentication"],"summary":"Register","description":"Register a new user\n\nArgs:\n    user_data: User registration data\n\nReturns:\n    Created user object\n\nRaises:\n    HTTPException: If user already exists","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Login user and return access and refresh tokens\n\nArgs:\n    login_data: Login credentials\n\nReturns:\n    Access and refresh tokens\n\nRaises:\n    HTTPException: If credentials are invalid","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"Refresh access token using refresh token\n\nArgs:\n    token_data: Refresh token\n\nReturns:\n    New access and refresh tokens\n\nRaises:\n    HTTPException: If refresh token is invalid","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User Info","description":"Get current user information\n\nArgs:\n    current_user: Current authenticated user\n\nReturns:\n    Current user object","operationId":"get_current_user_info_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/change-password":{"post":{"tags":["Authentication"],"summary":"Change Password","description":"Change current user's password\n\nArgs:\n    password_data: Current and new password\n    current_user: Current authenticated user\n\nReturns:\n    Success message\n\nRaises:\n    HTTPException: If current password is incorrect or new password is same as current","operationId":"change_password_api_v1_auth_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChange"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Change Password Api V1 Auth Change Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/":{"get":{"tags":["Users"],"summary":"List Users","description":"List all users (superuser only)\n\nArgs:\n    skip: Number of users to skip\n    limit: Maximum number of users to return\n    current_user: Current superuser\n\nReturns:\n    List of users","operationId":"list_users_api_v1_users__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response List Users Api V1 Users  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"get":{"tags":["Users"],"summary":"Get User","description":"Get user by ID\n\nArgs:\n    user_id: User ID\n    current_user: Current authenticated user\n\nReturns:\n    User object\n\nRaises:\n    HTTPException: If user not found or no permission","operationId":"get_user_api_v1_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Users"],"summary":"Update User","description":"Update user\n\nArgs:\n    user_id: User ID\n    user_update: User update data\n    current_user: Current authenticated user\n\nReturns:\n    Updated user object\n\nRaises:\n    HTTPException: If user not found or no permission","operationId":"update_user_api_v1_users__user_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","description":"Delete user (superuser only)\n\nArgs:\n    user_id: User ID\n    current_user: Current superuser\n\nRaises:\n    HTTPException: If user not found","operationId":"delete_user_api_v1_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"delete":{"tags":["Users"],"summary":"Withdraw User","description":"Withdraw current user account (self-deletion)\n\nDeletes all user's images and deactivates the account.\n\nReturns:\n    Withdrawal result with deleted images count","operationId":"withdraw_user_api_v1_users_me_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserWithdrawResult"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/images/upload":{"post":{"tags":["Images"],"summary":"Upload Image","description":"Upload an image to Cloudflare R2\n\n- **file**: Image file (JPEG, PNG, GIF, WebP)\n- **folder**: Folder to organize images (default: \"uploads\")\n- **tags**: Comma-separated tags for organization\n- **description**: Optional description\n- **is_public**: Whether the image should be publicly accessible\n\nReturns uploaded image metadata including URL","operationId":"upload_image_api_v1_images_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_image_api_v1_images_upload_post"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUploadResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/images/":{"get":{"tags":["Images"],"summary":"List My Images","description":"List current user's images\n\n- **folder**: Filter by folder (optional)\n- **skip**: Number of images to skip (pagination)\n- **limit**: Maximum number of images to return (max 100)\n\nReturns list of user's images","operationId":"list_my_images_api_v1_images__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"folder","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Folder"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ImageListResponse"},"title":"Response List My Images Api V1 Images  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/images/{image_id}":{"get":{"tags":["Images"],"summary":"Get Image","description":"Get image by ID\n\nReturns image metadata","operationId":"get_image_api_v1_images__image_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Images"],"summary":"Update Image","description":"Update image metadata\n\nCan update:\n- Tags\n- Description\n- Public visibility","operationId":"update_image_api_v1_images__image_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Images"],"summary":"Delete Image","description":"Delete an image\n\nRemoves image from storage and marks as deleted in database","operationId":"delete_image_api_v1_images__image_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/images/{image_id}/base64":{"get":{"tags":["Images"],"summary":"Download Image Base64","description":"Download image as base64 encoded data\n\n- **image_id**: ID of the image to download\n\nReturns image data as base64 encoded string with data URI prefix","operationId":"download_image_base64_api_v1_images__image_id__base64_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageBase64Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/images/all":{"delete":{"tags":["Images"],"summary":"Delete All Images","description":"Delete all images for the current user\n\nRemoves all images from storage and marks them as deleted in database.\nReturns the count of deleted and failed images.","operationId":"delete_all_images_api_v1_images_all_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageDeleteAllResult"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/images/public/{image_id}":{"get":{"tags":["Images"],"summary":"Get Public Image","description":"Get public image (no authentication required)\n\nReturns image metadata if image is marked as public","operationId":"get_public_image_api_v1_images_public__image_id__get","parameters":[{"name":"image_id","in":"path","required":true,"schema":{"type":"string","title":"Image Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gemini/generate":{"post":{"tags":["Gemini AI"],"summary":"Generate image with Gemini AI","description":"Generate images using Gemini AI.\n\n## Usage\n\n### 1. Text-to-Image Generation\n- Enter a description of the image you want to generate in `prompt`\n\n### 2. Image-to-Image Editing\n- Upload the source image in `image`\n- Enter editing instructions in `prompt` (e.g., \"Put a hat on this cat\")\n\n## Storage Location (Cloudflare R2)\n- Uploaded images: `uploads/YYYYMMDD/uuid.ext`\n- Generated images: `generated/YYYYMMDD/uuid.ext`\n\n## Response\n- Base64 encoded generated image\n- Image metadata stored in R2 (including URL)","operationId":"generate_image_api_v1_gemini_generate_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_image_api_v1_gemini_generate_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageGenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/gemini/generate/raw":{"post":{"tags":["Gemini AI"],"summary":"Generate image and return raw bytes","description":"Generate images using Gemini AI and return raw image bytes.\n\nUseful for displaying images directly in browser or downloading.\n\n## Storage Location (Cloudflare R2)\n- Uploaded images: `uploads/YYYYMMDD/uuid.ext`\n- Generated images: `generated/YYYYMMDD/uuid.ext`","operationId":"generate_image_raw_api_v1_gemini_generate_raw_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_image_raw_api_v1_gemini_generate_raw_post"}}},"required":true},"responses":{"200":{"description":"Generated image (raw bytes)","content":{"application/json":{"schema":{}},"image/png":{},"image/jpeg":{},"image/webp":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/gemini/generate/frame":{"post":{"tags":["Gemini AI"],"summary":"Generate frame composite from two portrait images","description":"Generate a film strip frame with 4 AI-generated images from two portrait photos.\n\n## Pipeline\n1. Accepts 2 portrait images (required)\n2. Removes background from both images using rembg\n3. Creates a composite of both portraits (312x236)\n4. Generates initial AI image using composite prompt from database\n5. Creates 4 pose variations using specified or randomly selected pose prompts\n6. Composites all 4 images onto the frame template\n\n## Requirements\n- Both portrait1 and portrait2 are required\n- An active composite prompt must exist in database\n- Either specify 4 pose_prompt_ids OR have at least 4 active pose prompts for random selection\n\n## Storage Location (Cloudflare R2)\n- Input portraits: `uploads/YYYYMMDD/uuid.ext`\n- Composite output: `generated/YYYYMMDD/uuid.jpg`\n\n## Response\n- Base64 encoded composite image (JPEG)\n- Image metadata stored in R2 (including URL)\n- Prompts used for generation","operationId":"generate_frame_composite_api_v1_gemini_generate_frame_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_frame_composite_api_v1_gemini_generate_frame_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FrameCompositeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/gemini/generate/frame/raw":{"post":{"tags":["Gemini AI"],"summary":"Generate frame composite and return raw bytes","description":"Generate a film strip frame with 4 AI-generated images from two portrait photos and return raw image bytes.\n\nUseful for displaying images directly in browser or downloading.\n\n## Pipeline\n1. Accepts 2 portrait images (required)\n2. Removes background from both images\n3. Creates a composite of both portraits\n4. Generates AI images using specified or random prompts from database\n5. Composites all 4 images onto the frame template\n\n## Storage Location (Cloudflare R2)\n- Input portraits: `uploads/YYYYMMDD/uuid.ext`\n- Composite output: `generated/YYYYMMDD/uuid.jpg`","operationId":"generate_frame_composite_raw_api_v1_gemini_generate_frame_raw_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_frame_composite_raw_api_v1_gemini_generate_frame_raw_post"}}},"required":true},"responses":{"200":{"description":"Composite image (raw JPEG bytes)","content":{"application/json":{"schema":{}},"image/jpeg":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api-keys/":{"get":{"tags":["API Keys (Admin)"],"summary":"List Api Keys","description":"List all API keys (Admin only)\n\nReturns list of API keys with masked values","operationId":"list_api_keys_api_v1_api_keys__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiKeyResponse"},"type":"array","title":"Response List Api Keys Api V1 Api Keys  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["API Keys (Admin)"],"summary":"Create Or Update Api Key","description":"Create or update API key (Admin only)\n\n- **service**: Service name (e.g., 'google')\n- **api_key**: Plain text API key (will be encrypted)\n- **name**: Key name (default: 'default')\n\nIf key exists, it will be updated. Otherwise, a new key is created.","operationId":"create_or_update_api_key_api_v1_api_keys__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyUpdateResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/api-keys/{service}":{"get":{"tags":["API Keys (Admin)"],"summary":"Get Api Key","description":"Get API key for a service (Admin only)\n\n- **service**: Service name (e.g., 'google')\n- **name**: Key name (default: 'default')\n\nReturns API key with masked value","operationId":"get_api_key_api_v1_api_keys__service__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","title":"Service"}},{"name":"name","in":"query","required":false,"schema":{"type":"string","default":"default","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["API Keys (Admin)"],"summary":"Delete Api Key","description":"Deactivate API key (Admin only)\n\n- **service**: Service name\n- **name**: Key name (default: 'default')\n\nSoft deletes (deactivates) the API key","operationId":"delete_api_key_api_v1_api_keys__service__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","title":"Service"}},{"name":"name","in":"query","required":false,"schema":{"type":"string","default":"default","title":"Name"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/composite":{"get":{"tags":["Prompts (Admin)"],"summary":"Get active composite prompt","description":"Get the currently active composite prompt used for initial AI generation","operationId":"get_active_composite_prompt_api_v1_prompts_composite_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptResponse"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Prompts (Admin)"],"summary":"Create composite prompt","description":"Create a new composite prompt. If is_active is True, deactivates all others.","operationId":"create_composite_prompt_api_v1_prompts_composite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/prompts/composite/all":{"get":{"tags":["Prompts (Admin)"],"summary":"List all composite prompts","description":"Get all composite prompts including inactive ones","operationId":"list_all_composite_prompts_api_v1_prompts_composite_all_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CompositePromptResponse"},"type":"array","title":"Response List All Composite Prompts Api V1 Prompts Composite All Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/prompts/composite/{prompt_id}":{"put":{"tags":["Prompts (Admin)"],"summary":"Update composite prompt","description":"Update an existing composite prompt","operationId":"update_composite_prompt_api_v1_prompts_composite__prompt_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompositePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Prompts (Admin)"],"summary":"Delete composite prompt","description":"Hard delete a composite prompt","operationId":"delete_composite_prompt_api_v1_prompts_composite__prompt_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/poses":{"get":{"tags":["Prompts (Admin)"],"summary":"List pose prompts","description":"List all active pose prompts with pagination","operationId":"list_pose_prompts_api_v1_prompts_poses_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Page Size"},"description":"Items per page"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category","title":"Category"},"description":"Filter by category"},{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","description":"Include inactive prompts","default":false,"title":"Include Inactive"},"description":"Include inactive prompts"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Prompts (Admin)"],"summary":"Create pose prompt","description":"Create a new pose prompt","operationId":"create_pose_prompt_api_v1_prompts_poses_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/poses/bulk":{"post":{"tags":["Prompts (Admin)"],"summary":"Bulk create pose prompts","description":"Create multiple pose prompts at once (max 100)","operationId":"bulk_create_pose_prompts_api_v1_prompts_poses_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptBulkCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkCreateResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/prompts/poses/{prompt_id}":{"get":{"tags":["Prompts (Admin)"],"summary":"Get pose prompt","description":"Get a specific pose prompt by ID","operationId":"get_pose_prompt_api_v1_prompts_poses__prompt_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Prompts (Admin)"],"summary":"Update pose prompt","description":"Update an existing pose prompt","operationId":"update_pose_prompt_api_v1_prompts_poses__prompt_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PosePromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Prompts (Admin)"],"summary":"Delete pose prompt","description":"Soft delete (deactivate) a pose prompt","operationId":"delete_pose_prompt_api_v1_prompts_poses__prompt_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"string","title":"Prompt Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/poses/categories/list":{"get":{"tags":["Prompts (Admin)"],"summary":"List pose prompt categories","description":"Get all unique categories used in pose prompts","operationId":"list_pose_categories_api_v1_prompts_poses_categories_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response List Pose Categories Api V1 Prompts Poses Categories List Get"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"ApiKeyCreate":{"properties":{"service":{"type":"string","maxLength":50,"minLength":1,"title":"Service","description":"Service name (e.g., 'google')"},"api_key":{"type":"string","minLength":1,"title":"Api Key","description":"API key value"},"name":{"type":"string","maxLength":50,"title":"Name","description":"Key name","default":"default"}},"type":"object","required":["service","api_key"],"title":"ApiKeyCreate","description":"Schema for creating/updating API key","example":{"api_key":"AIzaSyB...","name":"default","service":"google"}},"ApiKeyResponse":{"properties":{"id":{"type":"string","title":"Id"},"service":{"type":"string","title":"Service"},"name":{"type":"string","title":"Name"},"masked_key":{"type":"string","title":"Masked Key","description":"Masked API key for display"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","service","name","masked_key","is_active","created_at","updated_at"],"title":"ApiKeyResponse","description":"Schema for API key response (masked)","example":{"created_at":"2024-01-01T00:00:00","id":"507f1f77bcf86cd799439011","is_active":true,"masked_key":"AIza****xyz","name":"default","service":"google","updated_at":"2024-01-01T00:00:00"}},"ApiKeyUpdateResult":{"properties":{"message":{"type":"string","title":"Message"},"api_key":{"$ref":"#/components/schemas/ApiKeyResponse"}},"type":"object","required":["message","api_key"],"title":"ApiKeyUpdateResult","description":"Schema for API key update result","example":{"api_key":{"id":"507f1f77bcf86cd799439011","is_active":true,"masked_key":"AIza****xyz","name":"default","service":"google"},"message":"API key updated successfully"}},"Body_generate_frame_composite_api_v1_gemini_generate_frame_post":{"properties":{"portrait1":{"type":"string","format":"binary","title":"Portrait1","description":"First portrait image (required, JPG/PNG)"},"portrait2":{"type":"string","format":"binary","title":"Portrait2","description":"Second portrait image (required, JPG/PNG)"},"model":{"type":"string","title":"Model","description":"Model name: 'default' (fast/standard) or 'pro' (high quality)","default":"default"},"pose_prompt_ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pose Prompt Ids","description":"JSON array of 4 pose prompt IDs (e.g., '[\"id1\",\"id2\",\"id3\",\"id4\"]'). If not provided, random selection."}},"type":"object","required":["portrait1","portrait2"],"title":"Body_generate_frame_composite_api_v1_gemini_generate_frame_post"},"Body_generate_frame_composite_raw_api_v1_gemini_generate_frame_raw_post":{"properties":{"portrait1":{"type":"string","format":"binary","title":"Portrait1","description":"First portrait image (required, JPG/PNG)"},"portrait2":{"type":"string","format":"binary","title":"Portrait2","description":"Second portrait image (required, JPG/PNG)"},"model":{"type":"string","title":"Model","description":"Model name: 'default' (fast/standard) or 'pro' (high quality)","default":"default"},"pose_prompt_ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pose Prompt Ids","description":"JSON array of 4 pose prompt IDs (e.g., '[\"id1\",\"id2\",\"id3\",\"id4\"]'). If not provided, random selection."}},"type":"object","required":["portrait1","portrait2"],"title":"Body_generate_frame_composite_raw_api_v1_gemini_generate_frame_raw_post"},"Body_generate_image_api_v1_gemini_generate_post":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"Text prompt for image generation"},"model":{"type":"string","title":"Model","description":"Model name: 'default' (fast/standard) or 'pro' (high quality)","default":"default"},"image":{"type":"string","format":"binary","title":"Image","description":"Source image for image-to-image editing (optional, JPG/PNG/GIF/WebP)"}},"type":"object","required":["prompt"],"title":"Body_generate_image_api_v1_gemini_generate_post"},"Body_generate_image_raw_api_v1_gemini_generate_raw_post":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"Text prompt for image generation"},"model":{"type":"string","title":"Model","description":"Model name: 'default' (fast/standard) or 'pro' (high quality)","default":"default"},"image":{"type":"string","format":"binary","title":"Image","description":"Source image for image-to-image editing (optional, JPG/PNG/GIF/WebP)"}},"type":"object","required":["prompt"],"title":"Body_generate_image_raw_api_v1_gemini_generate_raw_post"},"Body_upload_image_api_v1_images_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to upload"},"folder":{"type":"string","title":"Folder","description":"Folder to organize images","default":"uploads"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags","description":"Comma-separated tags"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Image description"},"is_public":{"type":"boolean","title":"Is Public","description":"Make image publicly accessible","default":false}},"type":"object","required":["file"],"title":"Body_upload_image_api_v1_images_upload_post"},"BulkCreateResult":{"properties":{"message":{"type":"string","title":"Message"},"created_count":{"type":"integer","title":"Created Count"},"prompts":{"items":{"$ref":"#/components/schemas/PosePromptResponse"},"type":"array","title":"Prompts"}},"type":"object","required":["message","created_count","prompts"],"title":"BulkCreateResult","description":"Schema for bulk create result"},"CompositePromptCreate":{"properties":{"prompt_text":{"type":"string","maxLength":5000,"minLength":10,"title":"Prompt Text","description":"The prompt text for AI generation"},"system_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"System Prompt","description":"System instruction for AI model"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Admin description"},"is_active":{"type":"boolean","title":"Is Active","description":"Set as active prompt (deactivates others)","default":true}},"type":"object","required":["prompt_text"],"title":"CompositePromptCreate","description":"Schema for creating composite prompt","example":{"description":"Ghibli style transformation","is_active":true,"prompt_text":"Transform this image of two people into a Studio Ghibli anime style...","system_prompt":"You are an expert anime artist specializing in Studio Ghibli style..."}},"CompositePromptResponse":{"properties":{"id":{"type":"string","title":"Id"},"prompt_text":{"type":"string","title":"Prompt Text"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","prompt_text","system_prompt","description","is_active","created_at","updated_at"],"title":"CompositePromptResponse","description":"Schema for composite prompt response"},"CompositePromptUpdate":{"properties":{"prompt_text":{"anyOf":[{"type":"string","maxLength":5000,"minLength":10},{"type":"null"}],"title":"Prompt Text"},"system_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"System Prompt"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"CompositePromptUpdate","description":"Schema for updating composite prompt"},"FrameCompositeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"image_base64":{"type":"string","title":"Image Base64","description":"Base64 encoded composite image with 4 generated images on frame"},"mime_type":{"type":"string","title":"Mime Type","description":"MIME type of the composite image (image/jpeg)"},"input_images":{"items":{"anyOf":[{"$ref":"#/components/schemas/ImageResponse"},{"type":"null"}]},"type":"array","title":"Input Images","description":"Input portrait images saved to R2 (2 portraits)","default":[]},"output_image":{"anyOf":[{"$ref":"#/components/schemas/ImageResponse"},{"type":"null"}],"description":"Composite image saved to R2"},"composite_prompt_used":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Composite Prompt Used","description":"The composite prompt that was used for initial AI generation"},"pose_prompts_used":{"items":{"type":"string"},"type":"array","title":"Pose Prompts Used","description":"The 4 pose prompts that were used for variations","default":[]}},"type":"object","required":["success","image_base64","mime_type"],"title":"FrameCompositeResponse","description":"Schema for frame composite generation response","example":{"composite_prompt_used":"Transform this image of two people into anime style...","image_base64":"/9j/4AAQSkZJRgABAQAAAQABAAD...","input_images":[{"content_type":"image/png","filename":"portrait1.png","id":"507f1f77bcf86cd799439011","size":512000,"url":"https://cdn.example.com/uploads/20240101/uuid1.png"},{"content_type":"image/png","filename":"portrait2.png","id":"507f1f77bcf86cd799439012","size":512000,"url":"https://cdn.example.com/uploads/20240101/uuid2.png"}],"mime_type":"image/jpeg","output_image":{"content_type":"image/jpeg","filename":"frame_composite.jpg","id":"507f1f77bcf86cd799439013","size":2048000,"url":"https://cdn.example.com/generated/20240101/uuid.jpg"},"pose_prompts_used":["Same characters dancing together","Same characters at a beach","Same characters in winter clothes","Same characters having a picnic"],"success":true}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImageBase64Response":{"properties":{"id":{"type":"string","title":"Id"},"filename":{"type":"string","title":"Filename"},"content_type":{"type":"string","title":"Content Type"},"size":{"type":"integer","title":"Size"},"base64_data":{"type":"string","title":"Base64 Data"}},"type":"object","required":["id","filename","content_type","size","base64_data"],"title":"ImageBase64Response","description":"Schema for base64 image download response","example":{"base64_data":"data:image/jpeg;base64,/9j/4AAQSkZJRg...","content_type":"image/jpeg","filename":"photo.jpg","id":"507f1f77bcf86cd799439011","size":1024000}},"ImageDeleteAllResult":{"properties":{"message":{"type":"string","title":"Message"},"deleted_count":{"type":"integer","title":"Deleted Count"},"failed_count":{"type":"integer","title":"Failed Count"}},"type":"object","required":["message","deleted_count","failed_count"],"title":"ImageDeleteAllResult","description":"Schema for delete all images result","example":{"deleted_count":15,"failed_count":0,"message":"All images deleted successfully"}},"ImageGenerateResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"image_base64":{"type":"string","title":"Image Base64","description":"Base64 encoded generated image"},"mime_type":{"type":"string","title":"Mime Type","description":"MIME type of the generated image"},"input_image":{"anyOf":[{"$ref":"#/components/schemas/ImageResponse"},{"type":"null"}],"description":"Input image saved to R2"},"output_image":{"anyOf":[{"$ref":"#/components/schemas/ImageResponse"},{"type":"null"}],"description":"Generated image saved to R2"}},"type":"object","required":["success","image_base64","mime_type"],"title":"ImageGenerateResponse","description":"Schema for image generation response","example":{"image_base64":"iVBORw0KGgoAAAANSUhEUgAA...","mime_type":"image/png","output_image":{"content_type":"image/png","filename":"generated.png","id":"507f1f77bcf86cd799439011","size":1024000,"url":"https://cdn.example.com/gemini/output/20240101/uuid.png"},"success":true}},"ImageListResponse":{"properties":{"id":{"type":"string","title":"Id"},"filename":{"type":"string","title":"Filename"},"url":{"type":"string","title":"Url"},"size":{"type":"integer","title":"Size"},"content_type":{"type":"string","title":"Content Type"},"folder":{"type":"string","title":"Folder"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"is_public":{"type":"boolean","title":"Is Public"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","filename","url","size","content_type","folder","tags","is_public","created_at"],"title":"ImageListResponse","description":"Schema for image list item"},"ImageResponse":{"properties":{"id":{"type":"string","title":"Id"},"filename":{"type":"string","title":"Filename"},"url":{"type":"string","title":"Url"},"size":{"type":"integer","title":"Size"},"width":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Width"},"height":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Height"},"format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"},"content_type":{"type":"string","title":"Content Type"},"user_id":{"type":"string","title":"User Id"},"folder":{"type":"string","title":"Folder"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_public":{"type":"boolean","title":"Is Public"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","filename","url","size","content_type","user_id","folder","tags","is_public","created_at","updated_at"],"title":"ImageResponse","description":"Schema for image response","example":{"_id":"507f1f77bcf86cd799439011","content_type":"image/jpeg","created_at":"2024-01-01T00:00:00","description":"Beach vacation photo","filename":"vacation.jpg","folder":"uploads","format":"JPEG","height":1080,"is_public":false,"size":1024000,"tags":["vacation","2024"],"updated_at":"2024-01-01T00:00:00","url":"https://cdn.example.com/images/20240101/uuid.jpg","user_id":"507f1f77bcf86cd799439011","width":1920}},"ImageUpdate":{"properties":{"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_public":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Public"}},"type":"object","title":"ImageUpdate","description":"Schema for updating image metadata","example":{"description":"Summer vacation photo","is_public":true,"tags":["vacation","2024","beach"]}},"ImageUploadResult":{"properties":{"message":{"type":"string","title":"Message"},"image":{"$ref":"#/components/schemas/ImageResponse"}},"type":"object","required":["message","image"],"title":"ImageUploadResult","description":"Schema for upload result","example":{"image":{"_id":"507f1f77bcf86cd799439011","content_type":"image/jpeg","created_at":"2024-01-01T00:00:00","filename":"photo.jpg","folder":"uploads","is_public":false,"size":1024000,"tags":[],"updated_at":"2024-01-01T00:00:00","url":"https://cdn.example.com/images/20240101/uuid.jpg","user_id":"507f1f77bcf86cd799439011"},"message":"Image uploaded successfully"}},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest","description":"Login request schema","example":{"email":"user@example.com","password":"securepassword123"}},"PasswordChange":{"properties":{"current_password":{"type":"string","minLength":8,"title":"Current Password"},"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChange","description":"Password change request schema","example":{"current_password":"oldpassword123","new_password":"newpassword123"}},"PosePromptBulkCreate":{"properties":{"prompts":{"items":{"$ref":"#/components/schemas/PosePromptCreate"},"type":"array","maxItems":100,"minItems":1,"title":"Prompts"}},"type":"object","required":["prompts"],"title":"PosePromptBulkCreate","description":"Schema for bulk creating pose prompts"},"PosePromptCreate":{"properties":{"prompt_text":{"type":"string","maxLength":2000,"minLength":5,"title":"Prompt Text","description":"The pose variation prompt"},"system_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"System Prompt","description":"System instruction for AI model"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Category","description":"Optional category (dance, travel, etc.)"}},"type":"object","required":["prompt_text"],"title":"PosePromptCreate","description":"Schema for creating pose prompt","example":{"category":"dance","description":"Dancing pose","prompt_text":"Same characters but now they are dancing together at a party","system_prompt":"You are an expert pose artist..."}},"PosePromptListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PosePromptResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"pages":{"type":"integer","title":"Pages"}},"type":"object","required":["items","total","page","page_size","pages"],"title":"PosePromptListResponse","description":"Schema for paginated pose prompt list"},"PosePromptResponse":{"properties":{"id":{"type":"string","title":"Id"},"prompt_text":{"type":"string","title":"Prompt Text"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","prompt_text","system_prompt","description","category","is_active","created_at","updated_at"],"title":"PosePromptResponse","description":"Schema for pose prompt response"},"PosePromptUpdate":{"properties":{"prompt_text":{"anyOf":[{"type":"string","maxLength":2000,"minLength":5},{"type":"null"}],"title":"Prompt Text"},"system_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"System Prompt"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Category"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"PosePromptUpdate","description":"Schema for updating pose prompt"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Refresh token request schema","example":{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token","refresh_token"],"title":"Token","description":"Token response schema","example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["email","password"],"title":"UserCreate","description":"Schema for creating a new user","example":{"email":"user@example.com","full_name":"John Doe","password":"securepassword123","username":"johndoe"}},"UserResponse":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"id":{"type":"string","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["email","id","created_at","updated_at"],"title":"UserResponse","description":"Schema for user response","example":{"_id":"507f1f77bcf86cd799439011","created_at":"2024-01-01T00:00:00","email":"user@example.com","full_name":"John Doe","is_active":true,"is_superuser":false,"updated_at":"2024-01-01T00:00:00","username":"johndoe"}},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"password":{"anyOf":[{"type":"string","minLength":8},{"type":"null"}],"title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UserUpdate","description":"Schema for updating an existing user","example":{"full_name":"John Updated Doe","is_active":true}},"UserWithdrawResult":{"properties":{"message":{"type":"string","title":"Message"},"deleted_images_count":{"type":"integer","title":"Deleted Images Count"}},"type":"object","required":["message","deleted_images_count"],"title":"UserWithdrawResult","description":"Schema for user withdrawal result","example":{"deleted_images_count":10,"message":"Account deleted successfully"}},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"Health","description":"서버 상태 확인을 위한 헬스체크 엔드포인트"},{"name":"Root","description":"API 기본 정보"},{"name":"Authentication","description":"사용자 인증 관련 API. 회원가입, 로그인, 토큰 갱신, 비밀번호 변경 등"},{"name":"Users","description":"사용자 관리 API. 프로필 조회 및 수정"},{"name":"Images","description":"이미지 업로드, 조회, 삭제, Base64 다운로드 등 이미지 관리 API"},{"name":"Gemini AI","description":"Google Gemini AI를 활용한 이미지 생성 및 처리 API"},{"name":"API Keys (Admin)","description":"관리자용 API 키 관리"},{"name":"Prompts (Admin)","description":"관리자용 프롬프트 관리"}]}